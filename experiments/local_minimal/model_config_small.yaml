# ExoMinerSmall configuration
model_architecture: ExoMinerSmall

# Minimal feature set (what ExoMinerSmall expects)
features_set:
  # Global flux (full orbit ~301 bins)
  global_flux_view_fluxnorm: { 'dim': [ 301, 1 ], 'dtype': float }
  flux_global_stat_abs_min_norm: { 'dim': [ 1, ], 'dtype': float }
  
  # Local flux (transit view ~31 bins)
  local_flux_view_fluxnorm: { 'dim': [ 31, 1 ], 'dtype': float }
  flux_local_stat_abs_min: { 'dim': [ 1, ], 'dtype': float }
  
  # Stellar parameters (scalars)
  tce_steff_norm: { 'dim': [ 1, ], 'dtype': float }
  tce_sradius_norm: { 'dim': [ 1, ], 'dtype': float }
  ruwe_norm: { 'dim': [ 1, ], 'dtype': float }

feature_map: null

config:
  # Conv branches (ExoMinerSmall uses global_flux and local_flux)
  conv_branches:
    global_flux:
      views:
        - global_flux_view_fluxnorm
      scalars:
        - flux_global_stat_abs_min_norm
    
    local_flux:
      views:
        - local_flux_view_fluxnorm
      scalars:
        - flux_local_stat_abs_min
  
  # Scalar branches
  scalar_branches:
    stellar:
      - tce_steff_norm
      - tce_sradius_norm
      - ruwe_norm
  
  # Global branch hyperparameters (default from repo)
  num_glob_conv_blocks: 2
  glob_conv_ls_per_block: 5
  init_glob_conv_filters: 3
  kernel_size_glob: 5
  pool_size_glob: 8
  
  # Local branch hyperparameters (default from repo)
  num_loc_conv_blocks: 2
  loc_conv_ls_per_block: 1
  init_loc_conv_filters: 2
  kernel_size_loc: 6
  pool_size_loc: 4
  
  # Shared conv hyperparameters
  num_fc_conv_units: 3
  dropout_rate_fc_conv: 0.12
  
  # FC block hyperparameters
  init_fc_neurons: 512
  dropout_rate: 0.02
  num_fc_layers: 4
  decay_rate: null
  
  # Shared hyperparameters
  non_lin_fn: prelu
  weight_initializer: null
  kernel_stride: 1
  pool_stride: 1
  
  # Classification parameters
  multi_class: false
  force_softmax: false
  
  # Optimizer
  optimizer: Adam
  lr: 0.0001
  
  # Loss
  loss: crossentropy
